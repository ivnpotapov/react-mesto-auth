(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(18),r=a.n(i),o=a(11),c=(a(37),a(25)),l=a(26),p=a(2),u=a(3),h=a(5),m=a(4),d=a(6),_=a(1),f=a(27),b=function(e){var t=e.component,a=e.componentHeader,n=e.componentFooter,i=Object(f.a)(e,["component","componentHeader","componentFooter"]);return s.a.createElement(_.b,null,function(){var e=i.loggedIn?s.a.createElement(t,i):s.a.createElement(_.a,{to:"./sign-in"});return s.a.createElement(s.a.Fragment,null,s.a.createElement(a,{headerText:i.headerText,userEmail:i.userEmail,handleLogin:i.handleLogin}),e,s.a.createElement(n,null))})},g=a(21),k=a.n(g),E=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).handleBurgerClick=function(){a.setState(function(e){return{isHeaderLink:!e.isHeaderLink}})},a.userEmail=e.userEmail,a.state={isHeaderLink:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e;switch(this.props.headerLink){case"/sign-in":e=s.a.createElement(o.b,{to:"sign-up",className:"header__link"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f");break;case"/sign-up":e=s.a.createElement(o.b,{to:"sign-in",className:"header__link"},"\u0412\u043e\u0439\u0442\u0438");break;default:e=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header__auth-container ".concat(this.state.isHeaderLink?"header__auth-container_active":"")},s.a.createElement("p",{className:"header__auth-email"},this.userEmail),s.a.createElement("p",{className:"header__auth-link",onClick:this.props.handleLogin},"\u0412\u044b\u0439\u0442\u0438")),this.state.isHeaderLink?s.a.createElement("span",{className:"popup__close-icon popup__close-icon_name_auth",onClick:this.handleBurgerClick}):s.a.createElement("div",{className:"header__burger",onClick:this.handleBurgerClick},s.a.createElement("div",{className:"header__burger-item"}),s.a.createElement("div",{className:"header__burger-item"}),s.a.createElement("div",{className:"header__burger-item"})))}return s.a.createElement("header",{className:"header"},s.a.createElement("img",{src:k.a,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f \u041c\u0435\u0441\u0442\u043e",className:"header__logo"}),e)}}]),t}(n.Component),v=s.a.createContext(),C=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).handleClick=function(){a.props.onCardClick(a.props.card)},a.handleLikeClick=function(){a.props.onCardLike(a.props.card)},a.handleDeleteClick=function(){a.props.onCardDelete(a.props.card)},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.card.owner===this.context._id,a="element__trash ".concat(t?"":"element__trash_hidden"),n=this.props.card.likes.some(function(t){return t===e.context._id}),i="element__button-like ".concat(n?"element__button-like_active":"");return s.a.createElement("article",{className:"element"},s.a.createElement("img",{className:"element__image",src:this.props.card.link,alt:this.props.card.name,onClick:this.handleClick}),s.a.createElement("button",{type:"button",className:a,"aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onClick:this.handleDeleteClick}),s.a.createElement("div",{className:"element__caption-area"},s.a.createElement("h2",{className:"element__name"},this.props.card.name),s.a.createElement("div",{className:"element__likes"},s.a.createElement("button",{type:"button",className:i,"aria-label":"\u043b\u0430\u0439\u043a",onClick:this.handleLikeClick}),s.a.createElement("span",{className:"element__like-counter"},this.props.card.likes.length))))}}]),t}(n.Component);C.contextType=v;var O=C,N=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("main",{className:"main"},s.a.createElement("section",{className:"profile"},s.a.createElement("div",{className:"profile__avatar-wrap",onClick:this.props.onEditAvatar},s.a.createElement("img",{src:"".concat(this.context.avatar),alt:"".concat(this.context.name),className:"profile__avatar"})),s.a.createElement("div",{className:"profile__info"},s.a.createElement("div",{className:"profile__name"},s.a.createElement("h1",{className:"profile__name-text"},this.context.name),s.a.createElement("button",{type:"button",className:"profile__button-edit","aria-label":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",onClick:this.props.onEditProfile})),s.a.createElement("p",{className:"profile__job"},this.context.about)),s.a.createElement("button",{type:"button",className:"profile__button-plus","aria-label":"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c",onClick:this.props.onAddPlace})),s.a.createElement("section",{className:"elements"},this.props.cards.map(function(t){return s.a.createElement(O,{card:t,key:t._id,onCardClick:e.props.onCardClick,onCardLike:e.props.onCardLike,onCardDelete:e.props.onCardDelete})})))}}]),t}(n.Component);N.contextType=v;var j=N,y=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("footer",{className:"footer"},s.a.createElement("p",{className:"footer__text"},"\xa9 2020 Mesto Russia"))}}]),t}(n.Component),P=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("section",{className:"popup popup_name_".concat(this.props.name," ").concat(this.props.isOpen?"popup_opened":"")},s.a.createElement("div",{className:"popup__container"},s.a.createElement("button",{type:"button",className:"popup__close-icon","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:this.props.onClose}),s.a.createElement("h2",{className:"popup__title"},this.props.title),s.a.createElement("form",{className:"popup__form",name:this.props.name,onSubmit:this.props.onSubmit},this.props.children,s.a.createElement("button",{type:"submit",className:"popup__button","aria-label":"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}}]),t}(n.Component),A=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("section",{className:"popup popup_name_".concat(this.props.name," ").concat(this.props.card.isOpen?"popup_opened":"")},s.a.createElement("figure",{className:"popup__img-container"},s.a.createElement("button",{type:"button",className:"popup__close-icon","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:this.props.onClose}),s.a.createElement("img",{className:"popup__img",src:this.props.card.link,alt:this.props.card.name}),s.a.createElement("figcaption",{className:"popup__img-label"},this.props.card.name)))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).handleNameChange=function(e){a.setState({username:e.target.value})},a.handleDescriptionChange=function(e){a.setState({description:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.onUpdateUser({name:a.state.username,about:a.state.description})},a.state={username:"",description:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.isOpen!==e.isOpen&&this.context.name&&this.setState({username:this.context.name,description:this.context.about})}},{key:"render",value:function(){return s.a.createElement(P,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",name:"profile",onClose:this.props.onClose,isOpen:this.props.isOpen,onSubmit:this.handleSubmit},s.a.createElement("label",{className:"popup__label-input"},s.a.createElement("input",{value:this.state.username,onChange:this.handleNameChange,type:"text",className:"popup__input",name:"username",minLength:"2",maxLength:"40",required:!0}),s.a.createElement("span",{className:"popup__error popup__username-error"})),s.a.createElement("label",{className:"popup__label-input"},s.a.createElement("input",{value:this.state.description,onChange:this.handleDescriptionChange,type:"text",className:"popup__input",name:"about",minLength:"2",maxLength:"200",required:!0}),s.a.createElement("span",{className:"popup__error popup__about-error"})))}}]),t}(n.Component);S.contextType=v;var L=S,U=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.onUpdateAvatar({avatar:a.avatarRef.current.value})},a.avatarRef=s.a.createRef(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement(P,{title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",name:"avatar",onClose:this.props.onClose,isOpen:this.props.isOpen,onSubmit:this.handleSubmit},s.a.createElement("label",{className:"popup__label-input"},s.a.createElement("input",{ref:this.avatarRef,type:"url",className:"popup__input",defaultValue:"",name:"avatar",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u0432\u0430\u0442\u0430\u0440",required:!0}),s.a.createElement("span",{className:"popup__error popup__avatar-error"})))}}]),t}(n.Component);U.contextType=v;var x=U,R=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).handleNameChange=function(e){a.setState({name:e.target.value})},a.handleLinkChange=function(e){a.setState({link:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.onAddPlace({name:a.state.name,link:a.state.link})},a.state={name:"",link:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.isOpen!==e.isOpen&&this.setState({name:"",link:""})}},{key:"render",value:function(){return s.a.createElement(P,{title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",name:"add",onClose:this.props.onClose,isOpen:this.props.isOpen,onSubmit:this.handleSubmit},s.a.createElement("label",{className:"popup__label-input"},s.a.createElement("input",{value:this.state.name,onChange:this.handleNameChange,type:"text",className:"popup__input",name:"title",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",minLength:"2",maxLength:"30",required:!0}),s.a.createElement("span",{className:"popup__error popup__title-error"})),s.a.createElement("label",{className:"popup__label-input"},s.a.createElement("input",{value:this.state.link,onChange:this.handleLinkChange,type:"url",className:"popup__input",name:"link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),s.a.createElement("span",{className:"popup__error popup__link-error"})))}}]),t}(n.Component),D=a(22),I=a.n(D),w=a(23),T=a.n(w),F=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).authSuccessText="\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!",a.authFailText="\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.",a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("section",{className:"popup popup_name_".concat(this.props.name," ").concat(this.props.isOpen?"popup_opened":"")},s.a.createElement("div",{className:"popup__container"},s.a.createElement("button",{type:"button",className:"popup__close-icon","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:this.props.onClose}),s.a.createElement("figure",{className:"popup__img-container"},s.a.createElement("img",{className:"popup__auth-img",src:this.props.isRegistered?I.a:T.a,alt:this.props.isRegistered?"\u0433\u0430\u043b\u043e\u0447\u043a\u0430":"\u043a\u0440\u0435\u0441\u0442\u0438\u043a"}),s.a.createElement("figcaption",{className:"popup__auth-label"},this.props.isRegistered?this.authSuccessText:this.authFailText))))}}]),t}(n.Component),H=a(13),q=a(24),B=new(function(){function e(t){Object(p.a)(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}return Object(u.a)(e,[{key:"_checkRes",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430, \u0441\u0442\u0430\u0442\u0443\u0441: ".concat(e.status))}},{key:"signUp",value:function(e,t){return fetch("".concat(this._baseUrl,"/signup"),{method:"POST",headers:this._headers,body:JSON.stringify({email:e,password:t})}).then(this._checkRes)}},{key:"signIn",value:function(e,t){return fetch("".concat(this._baseUrl,"/signin"),{method:"POST",headers:this._headers,body:JSON.stringify({email:e,password:t})}).then(this._checkRes)}},{key:"checkUser",value:function(e){return fetch("".concat(this._baseUrl,"/users/me"),{headers:Object(q.a)({},this._headers,{authorization:"Bearer ".concat(e)})}).then(this._checkRes)}}]),e}())({baseUrl:"https://express-mesto-gha.onrender.com",headers:{"Content-Type":"application/json"}}),J=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(H.a)({},n,s))},a.handleSubmit=function(e){e.preventDefault(),B.signIn(a.state.email,a.state.password).then(function(e){a.handleLogin(),localStorage.setItem("token",e.token)}).catch(function(e){a.props.openAuthPopup(),console.log(e)})},a.handleLogin=e.handleLogin,a.loggedIn=e.loggedIn,a.state={email:"",password:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("section",{className:"popup popup_name_auth"},s.a.createElement("div",{className:"popup__container popup__container_name_auth"},s.a.createElement("h2",{className:"popup__title popup__title_name_auth"},"\u0412\u0445\u043e\u0434"),s.a.createElement("form",{className:"popup__form popup__form_name_auth",name:this.props.name,onSubmit:this.handleSubmit},s.a.createElement("input",{required:!0,placeholder:"Email",className:"popup__input popup__input_name_auth",name:"email",type:"email",value:this.state.username,onChange:this.handleChange}),s.a.createElement("input",{required:!0,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"popup__input popup__input_name_auth",name:"password",type:"password",value:this.state.password,onChange:this.handleChange}),s.a.createElement("button",{type:"submit",className:"popup__button popup__button_name_auth","aria-label":"\u0412\u043e\u0439\u0442\u0438"},"\u0412\u043e\u0439\u0442\u0438"))))}}]),t}(s.a.Component),z=Object(_.g)(J),M=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(H.a)({},n,s))},a.handleSubmit=function(e){e.preventDefault(),B.signUp(a.state.email,a.state.password).then(function(e){a.props.handleRegistration(),a.props.history.push("/sign-in"),a.props.openAuthPopup()}).catch(function(e){a.props.openAuthPopup(),console.log(e)})},a.state={email:"",password:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("section",{className:"popup popup_name_auth popup_opened"},s.a.createElement("div",{className:"popup__container popup__container_name_auth"},s.a.createElement("h2",{className:"popup__title popup__title_name_auth"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),s.a.createElement("form",{className:"popup__form popup__form_name_auth",name:this.props.name,onSubmit:this.handleSubmit},s.a.createElement("input",{required:!0,placeholder:"Email",className:"popup__input popup__input_name_auth",name:"email",type:"email",value:this.state.username,onChange:this.handleChange}),s.a.createElement("input",{required:!0,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"popup__input popup__input_name_auth",name:"password",type:"password",value:this.state.password,onChange:this.handleChange}),s.a.createElement("button",{type:"submit",className:"popup__button popup__button_name_auth","aria-label":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),s.a.createElement("div",{className:"popup__text-container"},s.a.createElement("p",{className:"popup__text"},"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"),s.a.createElement(o.b,{to:"sign-in",className:"popup__text-link"},"\u0412\u043e\u0439\u0442\u0438"))))}}]),t}(s.a.Component),G=Object(_.g)(M),V=new(function(){function e(t){Object(p.a)(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers,this.changeLikeCardStatus=this.changeLikeCardStatus.bind(this)}return Object(u.a)(e,[{key:"_checkRes",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430, \u0441\u0442\u0430\u0442\u0443\u0441: ".concat(e.status))}},{key:"getUserInfoApi",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._checkRes)}},{key:"getInitialCardsApi",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers}).then(this._checkRes)}},{key:"setUserInfoApi",value:function(e){var t=e.name,a=e.about;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:a})}).then(this._checkRes)}},{key:"addNewCardApi",value:function(e){var t=e.name,a=e.link;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:a})}).then(this._checkRes)}},{key:"deleteCardApi",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkRes)}},{key:"addLikeApi",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then(this._checkRes)}},{key:"deleteLikeApi",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then(this._checkRes)}},{key:"changeLikeCardStatus",value:function(e,t){return t?this.deleteLikeApi(e):this.addLikeApi(e)}},{key:"setAvatarApi",value:function(e){var t=e.avatar;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._checkRes)}},{key:"headersAuth",set:function(e){this._headers.authorization="Bearer ".concat(e)}}]),e}())({baseUrl:"https://api.iv-partner.nomoredomains.xyz",headers:{authorization:"","Content-Type":"application/json"}}),K=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).tokenCheck=function(){if(localStorage.getItem("token")){var e=localStorage.getItem("token");B.checkUser(e).then(function(t){return V.headersAuth=e,Promise.all([t,V.getUserInfoApi(),V.getInitialCardsApi()])}).then(function(e){var t=Object(l.a)(e,3),n=t[0],s=t[1],i=t[2];a.setState({userEmail:n.email,loggedIn:!0,currentUser:s,cards:i},function(){a.props.history.push("/")})}).catch(function(e){console.log(e)})}},a.handleLogin=function(){a.state.loggedIn?a.setState({loggedIn:!1},function(){localStorage.removeItem("token"),a.props.history.push("/sign-in")}):a.setState({loggedIn:!0},function(){a.tokenCheck()})},a.openAuthPopup=function(){a.setState({isAuthPopupOpen:!0})},a.handleRegistration=function(){a.setState({isRegistered:!0})},a.handleEditAvatarClick=function(){a.setState({isEditAvatarPopupOpen:!0})},a.handleEditProfileClick=function(){a.setState({isEditProfilePopupOpen:!0})},a.handleAddPlaceClick=function(){a.setState({isAddPlacePopupOpen:!0})},a.handleDeleteClick=function(){a.setState({isDeletePopupOpen:!0})},a.handleUpdateUser=function(e){V.setUserInfoApi(e).then(function(e){a.setState({currentUser:e})}).then(function(){a.closeAllPopups()}).catch(function(e){console.log(e)})},a.handleUpdateAvatar=function(e){V.setAvatarApi(e).then(function(e){a.setState({currentUser:e})}).then(function(){a.closeAllPopups()}).catch(function(e){console.log(e)})},a.handleAddPlace=function(e){V.addNewCardApi(e).then(function(e){a.setState({cards:[e].concat(Object(c.a)(a.state.cards))})}).then(function(){a.closeAllPopups()}).catch(function(e){console.log(e)})},a.handleCardLike=function(e){var t=e.likes.some(function(e){return e===a.state.currentUser._id});V.changeLikeCardStatus(e._id,t).then(function(t){var n=a.state.cards.map(function(a){return a._id===e._id?t:a});a.setState({cards:n})}).catch(function(e){console.log(e)})},a.handleCardDelete=function(e){V.deleteCardApi(e._id).then(function(t){var n=a.state.cards.filter(function(t){return!(t._id===e._id)});a.setState({cards:n})}).catch(function(e){console.log(e)})},a.handleCardClick=function(e){a.setState({selectedCard:{isOpen:!0,link:e.link,name:e.name}})},a.closeAllPopups=function(){a.setState({isEditAvatarPopupOpen:!1,isEditProfilePopupOpen:!1,isAddPlacePopupOpen:!1,isDeletePopupOpen:!1,isAuthPopupOpen:!1,selectedCard:{isOpen:!1,link:"",name:""}})},a.state={loggedIn:!1,isRegistered:!1,userEmail:"",cards:[],currentUser:{},isEditAvatarPopupOpen:!1,isEditProfilePopupOpen:!1,isAddPlacePopupOpen:!1,isDeletePopupOpen:!1,isAuthPopupOpen:!1,selectedCard:{isOpen:!1,link:"",name:""}},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.tokenCheck()}},{key:"render",value:function(){return s.a.createElement(v.Provider,{value:this.state.currentUser},s.a.createElement("div",{className:"page__container"},s.a.createElement(_.d,null,s.a.createElement(_.b,{path:"/sign-in"},s.a.createElement(E,{headerLink:"/sign-in"}),s.a.createElement(z,{handleLogin:this.handleLogin,openAuthPopup:this.openAuthPopup,loggedIn:this.state.loggedIn})),s.a.createElement(_.b,{path:"/sign-up"},s.a.createElement(E,{headerLink:"/sign-up"}),s.a.createElement(G,{handleRegistration:this.handleRegistration,openAuthPopup:this.openAuthPopup,loggedIn:this.state.loggedIn})),s.a.createElement(b,{path:"*",loggedIn:this.state.loggedIn,userEmail:this.state.userEmail,handleLogin:this.handleLogin,componentHeader:E,componentFooter:y,component:j,cards:this.state.cards,onCardLike:this.handleCardLike,onCardDelete:this.handleCardDelete,onEditAvatar:this.handleEditAvatarClick,onEditProfile:this.handleEditProfileClick,onAddPlace:this.handleAddPlaceClick,onCardClick:this.handleCardClick,onDelete:this.handleDeleteClick,headerLink:""})),s.a.createElement(x,{isOpen:this.state.isEditAvatarPopupOpen,onClose:this.closeAllPopups,onUpdateAvatar:this.handleUpdateAvatar}),s.a.createElement(L,{isOpen:this.state.isEditProfilePopupOpen,onClose:this.closeAllPopups,onUpdateUser:this.handleUpdateUser}),s.a.createElement(R,{onClose:this.closeAllPopups,isOpen:this.state.isAddPlacePopupOpen,onAddPlace:this.handleAddPlace}),s.a.createElement(P,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",name:"delete",onClose:this.closeAllPopups,isOpen:this.state.isDeletePopupOpen}),s.a.createElement(A,{name:"img",onClose:this.closeAllPopups,card:this.state.selectedCard}),s.a.createElement(F,{name:"infotooltip",onClose:this.closeAllPopups,isOpen:this.state.isAuthPopupOpen,isRegistered:this.state.isRegistered})))}}]),t}(n.Component),Q=Object(_.g)(K),W=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,112)).then(function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),i(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(s.a.createElement(o.a,null,s.a.createElement(s.a.StrictMode,null,s.a.createElement(Q,null)))),W()},21:function(e,t,a){e.exports=a.p+"static/media/header__logo.b4fe8513.svg"},22:function(e,t,a){e.exports=a.p+"static/media/auth-success.e38b395c.svg"},23:function(e,t,a){e.exports=a.p+"static/media/auth-fail.4072126c.svg"},28:function(e,t,a){e.exports=a(111)},37:function(e,t,a){}},[[28,3,2]]]);
//# sourceMappingURL=main.5390f8f1.chunk.js.map