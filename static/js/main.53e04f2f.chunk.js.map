{"version":3,"sources":["components/ProtectedRoute/ProtectedRoute.js","components/Header/Header.js","contexts/CurrentUserContext.js","components/Card/Card.js","components/Main/Main.js","components/Footer/Footer.js","components/PopupWithForm/PopupWithForm.js","components/ImagePopup/ImagePopup.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/InfoTooltip/InfoTooltip.js","utils/auth.js","components/Login/Login.js","components/Register/Register.js","utils/api.js","components/App.js","reportWebVitals.js","index.js","images/header__logo.svg","images/auth-success.svg","images/auth-fail.svg"],"names":["ProtectedRoute","_ref","Component","component","Header","componentHeader","Footer","componentFooter","props","Object","objectWithoutProperties","react_default","a","createElement","react_router","main","loggedIn","to","Fragment","headerText","userEmail","handleLogin","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleBurgerClick","setState","state","isHeaderLink","header","headerLink","react_router_dom","className","concat","onClick","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","handleClick","onCardClick","card","handleLikeClick","onCardLike","handleDeleteClick","onCardDelete","_this2","isOwn","owner","context","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","type","aria-label","length","contextType","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","components_Card_Card","key","PopupWithForm","isOpen","onClose","title","onSubmit","children","ImagePopup","EditProfilePopup","handleNameChange","e","username","target","value","handleDescriptionChange","description","handleSubmit","preventDefault","onUpdateUser","prevProps","components_PopupWithForm_PopupWithForm","onChange","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","avatarRef","current","createRef","ref","defaultValue","placeholder","AddPlacePopup","handleLinkChange","InfoTooltip","authSuccessText","authFailText","isRegistered","authSuccessImg","authFailImg","auth","Auth","options","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","email","password","fetch","method","body","JSON","stringify","then","_checkRes","token","objectSpread","authorization","Content-Type","Login","handleChange","_e$target","defineProperty","signIn","localStorage","setItem","catch","err","openAuthPopup","console","log","withRouter","Register","signUp","handleRegistration","history","push","api","Api","changeLikeCardStatus","bind","_ref2","id","deleteLikeApi","addLikeApi","_ref3","App","tokenCheck","getItem","jwt","checkUser","headersAuth","all","getUserInfoApi","getInitialCardsApi","slicedToArray","resUser","resCard","currentUser","removeItem","isAuthPopupOpen","handleEditAvatarClick","isEditAvatarPopupOpen","handleEditProfileClick","isEditProfilePopupOpen","handleAddPlaceClick","isAddPlacePopupOpen","isDeletePopupOpen","handleUpdateUser","inputsValue","setUserInfoApi","closeAllPopups","handleUpdateAvatar","setAvatarApi","handleAddPlace","addNewCardApi","toConsumableArray","handleCardLike","like","newCard","stateWithNewCard","stateCard","handleCardDelete","deleteCardApi","stateWithoutCard","filter","handleCardClick","selectedCard","Provider","path","components_Header_Header","components_Login_Login","components_Register_Register","components_ProtectedRoute_ProtectedRoute","onDelete","components_EditAvatarPopup_EditAvatarPopup","components_EditProfilePopup_EditProfilePopup","components_AddPlacePopup_AddPlacePopup","components_ImagePopup_ImagePopup","components_InfoTooltip_InfoTooltip","reportWebVitals","onPerfEntry","Function","__webpack_require__","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode","components_App","module","exports","p"],"mappings":"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","file":"static/js/main.53e04f2f.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({\r\n  component: Component,\r\n  componentHeader: Header,\r\n  componentFooter: Footer,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <Route>\r\n      {() => {\r\n        const main = props.loggedIn ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to='./sign-in' />\r\n        );\r\n        return (\r\n          <>\r\n            <Header\r\n              headerText={props.headerText}\r\n              userEmail={props.userEmail}\r\n              handleLogin={props.handleLogin}\r\n            />\r\n            {main}\r\n            <Footer />\r\n          </>\r\n        );\r\n      }}\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React, { Component } from 'react';\r\nimport headerLogo from '../../images/header__logo.svg';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // this.handleLogin = props.handleLogin;\r\n    this.userEmail = props.userEmail;\r\n    this.state = {\r\n      isHeaderLink: false,\r\n    };\r\n  }\r\n\r\n  handleBurgerClick = () => {\r\n    this.setState((state) => {\r\n      return { isHeaderLink: !state.isHeaderLink };\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let header;\r\n\r\n    switch (this.props.headerLink) {\r\n      case '/sign-in':\r\n        header = (\r\n          <Link to='sign-up' className='header__link'>\r\n            Регистрация\r\n          </Link>\r\n        );\r\n        break;\r\n      case '/sign-up':\r\n        header = (\r\n          <Link to='sign-in' className='header__link'>\r\n            Войти\r\n          </Link>\r\n        );\r\n        break;\r\n      default:\r\n        header = (\r\n          <>\r\n            <div\r\n              className={`header__auth-container ${\r\n                this.state.isHeaderLink ? 'header__auth-container_active' : ''\r\n              }`}>\r\n              <p className='header__auth-email'>{this.userEmail}</p>\r\n              <p className='header__auth-link' onClick={this.props.handleLogin}>\r\n                Выйти\r\n              </p>\r\n            </div>\r\n            {this.state.isHeaderLink ? (\r\n              <span\r\n                className='popup__close-icon popup__close-icon_name_auth'\r\n                onClick={this.handleBurgerClick}></span>\r\n            ) : (\r\n              <div className='header__burger' onClick={this.handleBurgerClick}>\r\n                <div className='header__burger-item'></div>\r\n                <div className='header__burger-item'></div>\r\n                <div className='header__burger-item'></div>\r\n              </div>\r\n            )}\r\n          </>\r\n        );\r\n    }\r\n\r\n    return (\r\n      <header className='header'>\r\n        <img src={headerLogo} alt='логотип Место' className='header__logo' />\r\n        {header}\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React, { Component } from 'react';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nclass Card extends Component {\r\n  static contextType = CurrentUserContext;\r\n\r\n  handleClick = () => {\r\n    this.props.onCardClick(this.props.card);\r\n  };\r\n\r\n  handleLikeClick = () => {\r\n    this.props.onCardLike(this.props.card);\r\n  };\r\n  handleDeleteClick = () => {\r\n    this.props.onCardDelete(this.props.card);\r\n  };\r\n\r\n  render() {\r\n    const isOwn = this.props.card.owner === this.context._id;\r\n    const cardDeleteButtonClassName = `element__trash ${\r\n      isOwn ? '' : 'element__trash_hidden'\r\n    }`;\r\n\r\n    const isLiked = this.props.card.likes.some((i) => i === this.context._id);\r\n\r\n    const cardLikeButtonClassName = `element__button-like ${\r\n      isLiked ? 'element__button-like_active' : ''\r\n    }`;\r\n\r\n    return (\r\n      <article className='element'>\r\n        <img\r\n          className='element__image'\r\n          src={this.props.card.link}\r\n          alt={this.props.card.name}\r\n          onClick={this.handleClick}\r\n        />\r\n        <button\r\n          type='button'\r\n          className={cardDeleteButtonClassName}\r\n          aria-label='Удалить'\r\n          onClick={this.handleDeleteClick}></button>\r\n        <div className='element__caption-area'>\r\n          <h2 className='element__name'>{this.props.card.name}</h2>\r\n          <div className='element__likes'>\r\n            <button\r\n              type='button'\r\n              className={cardLikeButtonClassName}\r\n              aria-label='лайк'\r\n              onClick={this.handleLikeClick}></button>\r\n            <span className='element__like-counter'>\r\n              {this.props.card.likes.length}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </article>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Card;\r\n","import React, { Component } from 'react';\r\nimport Card from '../Card/Card';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nclass Main extends Component {\r\n  static contextType = CurrentUserContext;\r\n\r\n  render() {\r\n    return (\r\n      <main className='main'>\r\n        <section className='profile'>\r\n          <div\r\n            className='profile__avatar-wrap'\r\n            onClick={this.props.onEditAvatar}>\r\n            <img\r\n              src={`${this.context.avatar}`}\r\n              alt={`${this.context.name}`}\r\n              className='profile__avatar'\r\n            />\r\n          </div>\r\n          <div className='profile__info'>\r\n            <div className='profile__name'>\r\n              <h1 className='profile__name-text'>{this.context.name}</h1>\r\n              <button\r\n                type='button'\r\n                className='profile__button-edit'\r\n                aria-label='Редактировать'\r\n                onClick={this.props.onEditProfile}></button>\r\n            </div>\r\n            <p className='profile__job'>{this.context.about}</p>\r\n          </div>\r\n          <button\r\n            type='button'\r\n            className='profile__button-plus'\r\n            aria-label='добавить'\r\n            onClick={this.props.onAddPlace}></button>\r\n        </section>\r\n\r\n        <section className='elements'>\r\n          {this.props.cards.map((card) => {\r\n            return (\r\n              <Card\r\n                card={card}\r\n                key={card._id}\r\n                onCardClick={this.props.onCardClick}\r\n                // onDelete={this.props.onDelete}\r\n                onCardLike={this.props.onCardLike}\r\n                onCardDelete={this.props.onCardDelete}\r\n              />\r\n            );\r\n          })}\r\n        </section>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Main;\r\n","import React, { Component } from 'react'\r\n\r\nclass Footer extends Component {\r\n  render() {\r\n    return (\r\n      <footer className='footer'>\r\n        <p className='footer__text'>© 2020 Mesto Russia</p>\r\n      </footer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Footer\r\n","import React, { Component } from 'react';\r\n\r\nclass PopupWithForm extends Component {\r\n  render() {\r\n    return (\r\n      <section\r\n        className={`popup popup_name_${this.props.name} ${\r\n          this.props.isOpen ? 'popup_opened' : ''\r\n        }`}>\r\n        <div className='popup__container'>\r\n          <button\r\n            type='button'\r\n            className='popup__close-icon'\r\n            aria-label='Закрыть'\r\n            onClick={this.props.onClose}></button>\r\n          <h2 className='popup__title'>{this.props.title}</h2>\r\n          <form\r\n            className='popup__form'\r\n            name={this.props.name}\r\n            onSubmit={this.props.onSubmit}>\r\n            {this.props.children}\r\n\r\n            <button\r\n              type='submit'\r\n              className='popup__button'\r\n              aria-label='сохранить'>\r\n              Сохранить\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { Component } from 'react'\r\n\r\nclass ImagePopup extends Component {\r\n  render() {\r\n    return (\r\n      <section className={`popup popup_name_${this.props.name} ${this.props.card.isOpen ? 'popup_opened' : ''}`}>\r\n        <figure className='popup__img-container'>\r\n          <button\r\n            type='button'\r\n            className='popup__close-icon'\r\n            aria-label='Закрыть'\r\n            onClick={this.props.onClose}></button>\r\n          <img className='popup__img' src={this.props.card.link} alt={this.props.card.name} />\r\n          <figcaption className='popup__img-label'>{this.props.card.name}</figcaption>\r\n        </figure>\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ImagePopup\r\n","import React, { Component } from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nclass EditProfilePopup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: '',\r\n      description: '',\r\n    };\r\n  }\r\n  static contextType = CurrentUserContext;\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.isOpen !== prevProps.isOpen && this.context.name) {\r\n      this.setState({\r\n        username: this.context.name,\r\n        description: this.context.about,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleNameChange = (e) => {\r\n    this.setState({\r\n      username: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleDescriptionChange = (e) => {\r\n    this.setState({\r\n      description: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onUpdateUser({\r\n      name: this.state.username,\r\n      about: this.state.description,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <PopupWithForm\r\n        title={'Редактировать профиль'}\r\n        name={'profile'}\r\n        onClose={this.props.onClose}\r\n        isOpen={this.props.isOpen}\r\n        onSubmit={this.handleSubmit}>\r\n        <label className='popup__label-input'>\r\n          <input\r\n            value={this.state.username}\r\n            onChange={this.handleNameChange}\r\n            type='text'\r\n            className='popup__input'\r\n            name='username'\r\n            minLength='2'\r\n            maxLength='40'\r\n            required\r\n          />\r\n          <span className='popup__error popup__username-error'></span>\r\n        </label>\r\n        <label className='popup__label-input'>\r\n          <input\r\n            value={this.state.description}\r\n            onChange={this.handleDescriptionChange}\r\n            type='text'\r\n            className='popup__input'\r\n            name='about'\r\n            minLength='2'\r\n            maxLength='200'\r\n            required\r\n          />\r\n          <span className='popup__error popup__about-error'></span>\r\n        </label>\r\n      </PopupWithForm>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React, { Component } from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nclass EditAvatarPopup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.avatarRef = React.createRef();\r\n  }\r\n\r\n  static contextType = CurrentUserContext;\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onUpdateAvatar({\r\n      avatar: this.avatarRef.current.value,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <PopupWithForm\r\n        title={'Обновить аватар'}\r\n        name={'avatar'}\r\n        onClose={this.props.onClose}\r\n        isOpen={this.props.isOpen}\r\n        onSubmit={this.handleSubmit}>\r\n        <label className='popup__label-input'>\r\n          <input\r\n            ref={this.avatarRef}\r\n            type='url'\r\n            className='popup__input'\r\n            defaultValue=''\r\n            name='avatar'\r\n            placeholder='Ссылка на аватар'\r\n            required\r\n          />\r\n          <span className='popup__error popup__avatar-error'></span>\r\n        </label>\r\n      </PopupWithForm>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React, { Component } from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\r\n\r\nclass AddPlacePopup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: '',\r\n      link: '',\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.isOpen !== prevProps.isOpen) {\r\n      this.setState({\r\n        name: '',\r\n        link: '',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleNameChange = (e) => {\r\n    this.setState({\r\n      name: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleLinkChange = (e) => {\r\n    this.setState({\r\n      link: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onAddPlace({\r\n      name: this.state.name,\r\n      link: this.state.link,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <PopupWithForm\r\n        title={'Новое место'}\r\n        name={'add'}\r\n        onClose={this.props.onClose}\r\n        isOpen={this.props.isOpen}\r\n        onSubmit={this.handleSubmit}>\r\n        <label className='popup__label-input'>\r\n          <input\r\n            value={this.state.name}\r\n            onChange={this.handleNameChange}\r\n            type='text'\r\n            className='popup__input'\r\n            name='title'\r\n            placeholder='Название'\r\n            minLength='2'\r\n            maxLength='30'\r\n            required\r\n          />\r\n          <span className='popup__error popup__title-error'></span>\r\n        </label>\r\n        <label className='popup__label-input'>\r\n          <input\r\n            value={this.state.link}\r\n            onChange={this.handleLinkChange}\r\n            type='url'\r\n            className='popup__input'\r\n            name='link'\r\n            placeholder='Ссылка на картинку'\r\n            required\r\n          />\r\n          <span className='popup__error popup__link-error'></span>\r\n        </label>\r\n      </PopupWithForm>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React, { Component } from 'react';\r\nimport authSuccessImg from '../../images/auth-success.svg';\r\nimport authFailImg from '../../images/auth-fail.svg';\r\n\r\nclass InfoTooltip extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.authSuccessText = 'Вы успешно зарегистрировались!';\r\n    this.authFailText = 'Что-то пошло не так! Попробуйте ещё раз.';\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section\r\n        className={`popup popup_name_${this.props.name} ${\r\n          this.props.isOpen ? 'popup_opened' : ''\r\n        }`}>\r\n        <div className='popup__container'>\r\n          <button\r\n            type='button'\r\n            className='popup__close-icon'\r\n            aria-label='Закрыть'\r\n            onClick={this.props.onClose}></button>\r\n          <figure className='popup__img-container'>\r\n            <img\r\n              className='popup__auth-img'\r\n              src={this.props.isRegistered ? authSuccessImg : authFailImg}\r\n              alt={this.props.isRegistered ? 'галочка' : 'крестик'}\r\n            />\r\n            <figcaption className='popup__auth-label'>\r\n              {this.props.isRegistered\r\n                ? this.authSuccessText\r\n                : this.authFailText}\r\n            </figcaption>\r\n          </figure>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InfoTooltip;\r\n","class Auth {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  _checkRes(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка, статус: ${res.status}`);\r\n  }\r\n\r\n  signUp(email, password) {\r\n    return fetch(`${this._baseUrl}/signup`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    }).then(this._checkRes);\r\n  }\r\n\r\n  signIn(email, password) {\r\n    return fetch(`${this._baseUrl}/signin`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    }).then(this._checkRes);\r\n  }\r\n\r\n  checkUser(token) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: { ...this._headers, authorization: `Bearer ${token}` },\r\n    }).then(this._checkRes);\r\n  }\r\n}\r\n\r\nconst auth = new Auth({\r\n  baseUrl: 'https://express-mesto-gha.onrender.com',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport default auth;\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport auth from '../../utils/auth';\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleLogin = props.handleLogin;\r\n    this.loggedIn = props.loggedIn;\r\n\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n    };\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    auth\r\n      .signIn(this.state.email, this.state.password)\r\n      .then((res) => {\r\n        this.handleLogin();\r\n        localStorage.setItem('token', res.token);\r\n      })\r\n      .catch((err) => {\r\n        this.props.openAuthPopup();\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <section className={'popup popup_name_auth'}>\r\n        <div className='popup__container popup__container_name_auth'>\r\n          <h2 className='popup__title popup__title_name_auth'>Вход</h2>\r\n          <form\r\n            className='popup__form popup__form_name_auth'\r\n            name={this.props.name}\r\n            onSubmit={this.handleSubmit}>\r\n            <input\r\n              required\r\n              placeholder={'Email'}\r\n              className='popup__input popup__input_name_auth'\r\n              name='email'\r\n              type='email'\r\n              value={this.state.username}\r\n              onChange={this.handleChange}\r\n            />\r\n            <input\r\n              required\r\n              placeholder={'Пароль'}\r\n              className='popup__input popup__input_name_auth'\r\n              name='password'\r\n              type='password'\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n            />\r\n\r\n            <button\r\n              type='submit'\r\n              className='popup__button popup__button_name_auth'\r\n              aria-label='Войти'>\r\n              Войти\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Login);\r\n","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport auth from '../../utils/auth';\r\n\r\nclass Register extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n    };\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    auth\r\n      .signUp(this.state.email, this.state.password)\r\n      .then((res) => {\r\n        this.props.handleRegistration();\r\n        this.props.history.push('/sign-in');\r\n        this.props.openAuthPopup();\r\n      })\r\n      .catch((err) => {\r\n        this.props.openAuthPopup();\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <section className={'popup popup_name_auth popup_opened'}>\r\n        <div className='popup__container popup__container_name_auth'>\r\n          <h2 className='popup__title popup__title_name_auth'>Регистрация</h2>\r\n          <form\r\n            className='popup__form popup__form_name_auth'\r\n            name={this.props.name}\r\n            onSubmit={this.handleSubmit}>\r\n            <input\r\n              required\r\n              placeholder={'Email'}\r\n              className='popup__input popup__input_name_auth'\r\n              name='email'\r\n              type='email'\r\n              value={this.state.username}\r\n              onChange={this.handleChange}\r\n            />\r\n            <input\r\n              required\r\n              placeholder={'Пароль'}\r\n              className='popup__input popup__input_name_auth'\r\n              name='password'\r\n              type='password'\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n            />\r\n\r\n            <button\r\n              type='submit'\r\n              className='popup__button popup__button_name_auth'\r\n              aria-label='Зарегистрироваться'>\r\n              Зарегистрироваться\r\n            </button>\r\n          </form>\r\n\r\n          <div className='popup__text-container'>\r\n            <p className='popup__text'>Уже зарегистрированы?</p>\r\n            <Link to='sign-in' className='popup__text-link'>\r\n              Войти\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Register);\r\n","class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n    this.changeLikeCardStatus = this.changeLikeCardStatus.bind(this);\r\n  }\r\n\r\n  set headersAuth(token) {\r\n    this._headers.authorization = `Bearer ${token}`;\r\n  }\r\n\r\n  _checkRes(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка, статус: ${res.status}`);\r\n  }\r\n\r\n  getUserInfoApi() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers,\r\n    }).then(this._checkRes);\r\n  }\r\n\r\n  getInitialCardsApi() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    }).then(this._checkRes);\r\n  }\r\n\r\n  setUserInfoApi({ name, about }) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        about,\r\n      }),\r\n    }).then(this._checkRes);\r\n  }\r\n\r\n  addNewCardApi({ name, link }) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        link,\r\n      }),\r\n    }).then(this._checkRes);\r\n  }\r\n\r\n  deleteCardApi(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then(this._checkRes);\r\n  }\r\n\r\n  addLikeApi(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n    }).then(this._checkRes);\r\n  }\r\n\r\n  deleteLikeApi(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then(this._checkRes);\r\n  }\r\n\r\n  changeLikeCardStatus(id, isLiked) {\r\n    if (isLiked) {\r\n      return this.deleteLikeApi(id);\r\n    } else {\r\n      return this.addLikeApi(id);\r\n    }\r\n  }\r\n\r\n  setAvatarApi({ avatar }) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar,\r\n      }),\r\n    }).then(this._checkRes);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://express-mesto-gha.onrender.com',\r\n  headers: {\r\n    authorization: '',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport default api;\r\n","import React, { Component } from 'react';\nimport { Route, Switch, withRouter } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute/ProtectedRoute';\nimport Header from './Header/Header';\nimport Main from './Main/Main';\nimport Footer from './Footer/Footer';\nimport PopupWithForm from './PopupWithForm/PopupWithForm';\nimport ImagePopup from './ImagePopup/ImagePopup';\nimport EditProfilePopup from './EditProfilePopup/EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup/EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup/AddPlacePopup';\nimport InfoTooltip from './InfoTooltip/InfoTooltip';\nimport Login from './Login/Login';\nimport Register from './Register/Register';\nimport api from '../utils/api';\nimport auth from '../utils/auth';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loggedIn: false,\n      isRegistered: false,\n      userEmail: '',\n      cards: [],\n      currentUser: {},\n      isEditAvatarPopupOpen: false,\n      isEditProfilePopupOpen: false,\n      isAddPlacePopupOpen: false,\n      isDeletePopupOpen: false,\n      isAuthPopupOpen: false,\n      selectedCard: {\n        isOpen: false,\n        link: '',\n        name: '',\n      },\n    };\n  }\n\n  componentDidMount() {\n    this.tokenCheck();\n\n    // .catch((err) => {\n    //   console.log(err);\n    // });\n  }\n\n  tokenCheck = () => {\n    if (localStorage.getItem('token')) {\n      const jwt = localStorage.getItem('token');\n      auth\n        .checkUser(jwt)\n        .then((res) => {\n          api.headersAuth = jwt;\n          return Promise.all([\n            res,\n            api.getUserInfoApi(),\n            api.getInitialCardsApi(),\n          ]);\n        })\n        .then(([res, resUser, resCard]) => {\n          this.setState(\n            {\n              userEmail: res.email,\n              loggedIn: true,\n              currentUser: resUser,\n              cards: resCard,\n            },\n            () => {\n              this.props.history.push('/');\n            }\n          );\n        })\n        // .then((res) => {\n        //   this.setState(\n        //     {\n        //       userEmail: res.email,\n        //       loggedIn: true,\n        //     },\n        //     () => {\n        //       this.props.history.push('/');\n        //     }\n        //   );\n\n        // })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n\n  handleLogin = () => {\n    if (this.state.loggedIn) {\n      this.setState(\n        {\n          loggedIn: false,\n        },\n        () => {\n          localStorage.removeItem('token');\n          this.props.history.push('/sign-in');\n        }\n      );\n    } else {\n      this.setState(\n        {\n          loggedIn: true,\n        },\n        () => {\n          this.tokenCheck();\n        }\n      );\n    }\n  };\n\n  openAuthPopup = () => {\n    this.setState({ isAuthPopupOpen: true });\n  };\n\n  handleRegistration = () => {\n    this.setState({ isRegistered: true });\n  };\n\n  handleEditAvatarClick = () => {\n    this.setState({ isEditAvatarPopupOpen: true });\n  };\n\n  handleEditProfileClick = () => {\n    this.setState({ isEditProfilePopupOpen: true });\n  };\n\n  handleAddPlaceClick = () => {\n    this.setState({ isAddPlacePopupOpen: true });\n  };\n\n  handleDeleteClick = () => {\n    this.setState({ isDeletePopupOpen: true });\n  };\n\n  handleUpdateUser = (inputsValue) => {\n    api\n      .setUserInfoApi(inputsValue)\n      .then((res) => {\n        this.setState({\n          currentUser: res,\n        });\n      })\n      .then(() => {\n        this.closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  handleUpdateAvatar = (inputsValue) => {\n    api\n      .setAvatarApi(inputsValue)\n      .then((res) => {\n        this.setState({\n          currentUser: res,\n        });\n      })\n      .then(() => {\n        this.closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  handleAddPlace = (inputsValue) => {\n    api\n      .addNewCardApi(inputsValue)\n      .then((res) => {\n        this.setState({\n          cards: [res, ...this.state.cards],\n        });\n      })\n      .then(() => {\n        this.closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  handleCardLike = (card) => {\n    const isLiked = card.likes.some(\n      (like) => like === this.state.currentUser._id\n    );\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        const stateWithNewCard = this.state.cards.map((stateCard) =>\n          stateCard._id === card._id ? newCard : stateCard\n        );\n        this.setState({\n          cards: stateWithNewCard,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  handleCardDelete = (card) => {\n    api\n      .deleteCardApi(card._id)\n      .then((res) => {\n        const stateWithoutCard = this.state.cards.filter((stateCard) => {\n          return !(stateCard._id === card._id);\n        });\n        this.setState({\n          cards: stateWithoutCard,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  handleCardClick = (card) => {\n    this.setState({\n      selectedCard: {\n        isOpen: true,\n        link: card.link,\n        name: card.name,\n      },\n    });\n  };\n\n  closeAllPopups = () => {\n    this.setState({\n      isEditAvatarPopupOpen: false,\n      isEditProfilePopupOpen: false,\n      isAddPlacePopupOpen: false,\n      isDeletePopupOpen: false,\n      isAuthPopupOpen: false,\n      selectedCard: {\n        isOpen: false,\n        link: '',\n        name: '',\n      },\n    });\n  };\n\n  render() {\n    return (\n      <CurrentUserContext.Provider value={this.state.currentUser}>\n        <div className='page__container'>\n          <Switch>\n            <Route path='/sign-in'>\n              <Header headerLink={'/sign-in'} />\n              <Login\n                handleLogin={this.handleLogin}\n                openAuthPopup={this.openAuthPopup}\n                loggedIn={this.state.loggedIn}\n              />\n            </Route>\n\n            <Route path='/sign-up'>\n              <Header headerLink={'/sign-up'} />\n              <Register\n                handleRegistration={this.handleRegistration}\n                openAuthPopup={this.openAuthPopup}\n                loggedIn={this.state.loggedIn}\n              />\n            </Route>\n\n            <ProtectedRoute\n              path='*'\n              loggedIn={this.state.loggedIn}\n              userEmail={this.state.userEmail}\n              handleLogin={this.handleLogin}\n              componentHeader={Header}\n              componentFooter={Footer}\n              component={Main}\n              cards={this.state.cards}\n              onCardLike={this.handleCardLike}\n              onCardDelete={this.handleCardDelete}\n              onEditAvatar={this.handleEditAvatarClick}\n              onEditProfile={this.handleEditProfileClick}\n              onAddPlace={this.handleAddPlaceClick}\n              onCardClick={this.handleCardClick}\n              onDelete={this.handleDeleteClick}\n              headerLink={''}\n            />\n          </Switch>\n\n          {/*  popups */}\n          <EditAvatarPopup\n            isOpen={this.state.isEditAvatarPopupOpen}\n            onClose={this.closeAllPopups}\n            onUpdateAvatar={this.handleUpdateAvatar}\n          />\n\n          <EditProfilePopup\n            isOpen={this.state.isEditProfilePopupOpen}\n            onClose={this.closeAllPopups}\n            onUpdateUser={this.handleUpdateUser}\n          />\n\n          <AddPlacePopup\n            onClose={this.closeAllPopups}\n            isOpen={this.state.isAddPlacePopupOpen}\n            onAddPlace={this.handleAddPlace}\n          />\n\n          <PopupWithForm\n            title={'Вы уверены?'}\n            name={'delete'}\n            onClose={this.closeAllPopups}\n            isOpen={this.state.isDeletePopupOpen}></PopupWithForm>\n\n          <ImagePopup\n            name={'img'}\n            onClose={this.closeAllPopups}\n            card={this.state.selectedCard}\n          />\n\n          <InfoTooltip\n            name={'infotooltip'}\n            onClose={this.closeAllPopups}\n            isOpen={this.state.isAuthPopupOpen}\n            isRegistered={this.state.isRegistered}\n          />\n        </div>\n      </CurrentUserContext.Provider>\n    );\n  }\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <BrowserRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </BrowserRouter>,\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","module.exports = __webpack_public_path__ + \"static/media/header__logo.b4fe8513.svg\";","module.exports = __webpack_public_path__ + \"static/media/auth-success.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/auth-fail.4072126c.svg\";"],"sourceRoot":""}